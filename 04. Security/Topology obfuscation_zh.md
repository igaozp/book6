## 拓扑混淆

在各种操作环境中，运营商需要向外部人员混淆或隐藏网络的拓扑、设备和主机。由于 IPv6 推广端到端寻址，在没有网络地址转换（NAT）的情况下如何实现拓扑隐藏或混淆的问题就出现了。

其中一个重要的环境是必须符合支付卡行业数据安全标准要求（PCI-DSS）等标准的网络，该标准由 [PCI 安全标准委员会](https://www.pcisecuritystandards.org) 发布。（该标准可以免费 [下载](https://docs-prv.pcisecuritystandards.org/PCI%20DSS/Standard/PCI-DSS-v4_0.pdf)，但请注意，您必须同意许可证才能这样做。）PCI-DSS 要求存储某些类型客户数据的企业将其存储在与互联网有效隔离且无法从企业外部发现的服务器上。然而，这些系统可能还向互联网上任何地方的客户端提供 Web 服务。IPv4 的这种困境的常见解决方案有两个部分：

1. 在互联网和企业网络核心之间设置"非军事区"（DMZ）。

1. 当核心中的服务器与互联网其他地方的客户端通信时，隐藏服务器的要求通常通过服务器和 DMZ 之间的 IPv4 NAT 来满足。

不言而喻，此类流量将通过防火墙（PCI-DSS 称之为网络安全设备或 NSD）。问题是这样的系统应该如何像 NAT 混淆其 IPv4 地址一样有效地混淆服务器的常规 IPv6 地址。请注意，PCI-DSS（版本 4，2022 年 3 月）不要求 NAT，尽管它被提及为 IPv4 的解决方案。对于 IPv6，它建议对传出会话使用临时地址 \[[RFC8981](https://www.rfc-editor.org/info/rfc8981)\]（尽管它引用了一个已废弃的 RFC）。还建议将系统组件放在代理服务器后面，而且大型安装似乎无论如何都会这样做以支持负载平衡 \[[RFC7098](https://www.rfc-editor.org/info/rfc7098)\]。代理服务器和负载均衡器将本质上向攻击者隐藏核心拓扑。

[RFC 4864](https://www.rfc-editor.org/info/rfc4864) 中讨论了拓扑隐藏的其他方面，但该文档已经明显过时。

另一个常见的架构场景需要分解 GUA 分配，通常是 RIR 提供的地址块，并且仅公告需要公共访问的分配部分，使需要混淆的前缀在全球 DFZ（默认无路由区）内保持未公告状态。该模型允许类似级别的拓扑混淆，而无需 ULA 或地址转换的额外配置复杂性和潜在不一致行为。但应该注意的是，虽然这种设计模型确实降低了主机和网络层的复杂性，但它可能会在边界增加轻微的路由复杂性，并且存在无意泄漏已被指定为仅本地使用的 GUA 前缀的风险。在后一种情况下，经常采用"腰带和吊带"实施，即除了防止前缀使用的访问控制列表之外，还创建路由策略。

<!-- Link lines generated automatically; do not delete -->

### [<ins>上一页</ins>](Filtering.md) [<ins>下一页</ins>](../05.%20Network%20Design/05.%20Network%20Design.md) [<ins>顶部</ins>](04.%20Security.md)
